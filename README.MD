# score
做一个微信小程序，能方便的在外网直接查成绩。直接反向代理后连到学校学分系统的话，学校的web不太友好。

# 实现原理
+ 微信小程序
    + 作为客户端，可以不用域名实现交互。多数使用手机端。
+ 服务器
    + 向反向服务器获取数据。处理其他任务。提供可访问的ip。
+ 反向服务器
    + 爬学校内网，获得相关数据。

# 客户端bbgu-client
在内网接通bbgu-server。
# 服务端bbgu-server
通用web服务器，用websocket与client通信。
    
# 流程
## 首次连接
1. 微信小程序获取用户输入信息给server，server发给client，client请求目的web。
2. 目的web回复消息,client接收到后发送到服务端,服务端接收后,回复微信端(成功携带消息或失败)。
3. 微信端通过返回的提示，填写信息。发送到服务端。服务端发给内网客户端，让其爬取数据。
4. 内网客户端把爬好的数据发个服务端。服务端存储用户信息和获得数据。
## 其后连接
|   |   |   |
| --- | --- | --- |
| 微信端 | 服务端 | 微信端 |
|   |客户端 |   |
